28.3 享元模式的应用

28.3.1 享元模式的优点和缺点

    享元模式是一个非常简单的模式，它可以大大减少应用程序创建的对象，降低程序内存
的占用，增强程序的性能，但它同时也提高了系统复杂性，需要分离出外部状态和内部状
态，而且外部状态具有固化特性，不应该随内部状态改变而改变，否则导致系统的逻辑混
乱。


28.3.2 享元模式的使用场景

    在如下场景中则可以选择使用享元模式。

● 系统中存在大量的相似对象。

● 细粒度的对象都具备较接近的外部状态，而且内部状态与环境无关，也就是说对象没
有特定身份。

● 需要缓冲池的场景。


28.4 享元模式的扩展

28.4.1 线程安全的问题

28.4.2 性能平衡


28.5 最佳实践

    Flyweight是拳击比赛中的特用名词，意思是“特轻量级”，指的是51公斤级比赛，用到设
计模式中是指我们的类要轻量级，粒度要小，这才是它要表达的意思。粒度小了，带来的问
题就是对象太多，那就用共享技术来解决。